(function(e){function t(t){for(var r,a,i=t[0],p=t[1],l=t[2],c=0,d=[];c<i.length;c++)a=i[c],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(e[r]=p[r]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],r=!0,i=1;i<o.length;i++){var p=o[i];0!==s[p]&&(r=!1)}r&&(n.splice(t--,1),e=a(a.s=o[0]))}return e}var r={},s={app:0},n=[];function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=r,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],p=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=p;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},2447:function(e,t,o){o("c73d");var r=o("8513"),s=r,n=function(){return this||window||n||self||Function("return this")()}.call(null);s.exportSymbol("proto.pb_rpsgame.BotStatusReq",null,n),s.exportSymbol("proto.pb_rpsgame.BotStatusReq.gender_type",null,n),s.exportSymbol("proto.pb_rpsgame.BotStatusReq.status_type",null,n),s.exportSymbol("proto.pb_rpsgame.BotStatusRes",null,n),s.exportSymbol("proto.pb_rpsgame.pInfo",null,n),proto.pb_rpsgame.pInfo=function(e){r.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.pb_rpsgame.pInfo,r.Message),s.DEBUG&&!COMPILED&&(proto.pb_rpsgame.pInfo.displayName="proto.pb_rpsgame.pInfo"),proto.pb_rpsgame.BotStatusReq=function(e){r.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.pb_rpsgame.BotStatusReq,r.Message),s.DEBUG&&!COMPILED&&(proto.pb_rpsgame.BotStatusReq.displayName="proto.pb_rpsgame.BotStatusReq"),proto.pb_rpsgame.BotStatusRes=function(e){r.Message.initialize(this,e,0,-1,proto.pb_rpsgame.BotStatusRes.repeatedFields_,null)},s.inherits(proto.pb_rpsgame.BotStatusRes,r.Message),s.DEBUG&&!COMPILED&&(proto.pb_rpsgame.BotStatusRes.displayName="proto.pb_rpsgame.BotStatusRes"),r.Message.GENERATE_TO_OBJECT&&(proto.pb_rpsgame.pInfo.prototype.toObject=function(e){return proto.pb_rpsgame.pInfo.toObject(e,this)},proto.pb_rpsgame.pInfo.toObject=function(e,t){var o={cityId:r.Message.getFieldWithDefault(t,1,0),country:r.Message.getFieldWithDefault(t,2,""),region:r.Message.getFieldWithDefault(t,3,""),province:r.Message.getFieldWithDefault(t,4,""),city:r.Message.getFieldWithDefault(t,5,""),isp:r.Message.getFieldWithDefault(t,6,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.pb_rpsgame.pInfo.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.pb_rpsgame.pInfo;return proto.pb_rpsgame.pInfo.deserializeBinaryFromReader(o,t)},proto.pb_rpsgame.pInfo.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var o=t.getFieldNumber();switch(o){case 1:var r=t.readInt32();e.setCityId(r);break;case 2:r=t.readString();e.setCountry(r);break;case 3:r=t.readString();e.setRegion(r);break;case 4:r=t.readString();e.setProvince(r);break;case 5:r=t.readString();e.setCity(r);break;case 6:r=t.readString();e.setIsp(r);break;default:t.skipField();break}}return e},proto.pb_rpsgame.pInfo.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.pb_rpsgame.pInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb_rpsgame.pInfo.serializeBinaryToWriter=function(e,t){var o=void 0;o=e.getCityId(),0!==o&&t.writeInt32(1,o),o=e.getCountry(),o.length>0&&t.writeString(2,o),o=e.getRegion(),o.length>0&&t.writeString(3,o),o=e.getProvince(),o.length>0&&t.writeString(4,o),o=e.getCity(),o.length>0&&t.writeString(5,o),o=e.getIsp(),o.length>0&&t.writeString(6,o)},proto.pb_rpsgame.pInfo.prototype.getCityId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.pb_rpsgame.pInfo.prototype.setCityId=function(e){return r.Message.setProto3IntField(this,1,e)},proto.pb_rpsgame.pInfo.prototype.getCountry=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.pb_rpsgame.pInfo.prototype.setCountry=function(e){return r.Message.setProto3StringField(this,2,e)},proto.pb_rpsgame.pInfo.prototype.getRegion=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.pb_rpsgame.pInfo.prototype.setRegion=function(e){return r.Message.setProto3StringField(this,3,e)},proto.pb_rpsgame.pInfo.prototype.getProvince=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.pb_rpsgame.pInfo.prototype.setProvince=function(e){return r.Message.setProto3StringField(this,4,e)},proto.pb_rpsgame.pInfo.prototype.getCity=function(){return r.Message.getFieldWithDefault(this,5,"")},proto.pb_rpsgame.pInfo.prototype.setCity=function(e){return r.Message.setProto3StringField(this,5,e)},proto.pb_rpsgame.pInfo.prototype.getIsp=function(){return r.Message.getFieldWithDefault(this,6,"")},proto.pb_rpsgame.pInfo.prototype.setIsp=function(e){return r.Message.setProto3StringField(this,6,e)},r.Message.GENERATE_TO_OBJECT&&(proto.pb_rpsgame.BotStatusReq.prototype.toObject=function(e){return proto.pb_rpsgame.BotStatusReq.toObject(e,this)},proto.pb_rpsgame.BotStatusReq.toObject=function(e,t){var o,s={botId:r.Message.getFieldWithDefault(t,1,""),x:r.Message.getFloatingPointFieldWithDefault(t,2,0),y:r.Message.getFloatingPointFieldWithDefault(t,3,0),eyeX:r.Message.getFloatingPointFieldWithDefault(t,4,0),eyeY:r.Message.getFloatingPointFieldWithDefault(t,5,0),msg:r.Message.getFieldWithDefault(t,6,""),realX:r.Message.getFloatingPointFieldWithDefault(t,7,0),realY:r.Message.getFloatingPointFieldWithDefault(t,8,0),status:r.Message.getFieldWithDefault(t,9,0),name:r.Message.getFieldWithDefault(t,10,""),gender:r.Message.getFieldWithDefault(t,11,0),posInfo:(o=t.getPosInfo())&&proto.pb_rpsgame.pInfo.toObject(e,o)};return e&&(s.$jspbMessageInstance=t),s}),proto.pb_rpsgame.BotStatusReq.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.pb_rpsgame.BotStatusReq;return proto.pb_rpsgame.BotStatusReq.deserializeBinaryFromReader(o,t)},proto.pb_rpsgame.BotStatusReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var o=t.getFieldNumber();switch(o){case 1:var r=t.readString();e.setBotId(r);break;case 2:r=t.readFloat();e.setX(r);break;case 3:r=t.readFloat();e.setY(r);break;case 4:r=t.readFloat();e.setEyeX(r);break;case 5:r=t.readFloat();e.setEyeY(r);break;case 6:r=t.readString();e.setMsg(r);break;case 7:r=t.readFloat();e.setRealX(r);break;case 8:r=t.readFloat();e.setRealY(r);break;case 9:r=t.readEnum();e.setStatus(r);break;case 10:r=t.readString();e.setName(r);break;case 11:r=t.readEnum();e.setGender(r);break;case 12:r=new proto.pb_rpsgame.pInfo;t.readMessage(r,proto.pb_rpsgame.pInfo.deserializeBinaryFromReader),e.setPosInfo(r);break;default:t.skipField();break}}return e},proto.pb_rpsgame.BotStatusReq.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.pb_rpsgame.BotStatusReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb_rpsgame.BotStatusReq.serializeBinaryToWriter=function(e,t){var o=void 0;o=e.getBotId(),o.length>0&&t.writeString(1,o),o=e.getX(),0!==o&&t.writeFloat(2,o),o=e.getY(),0!==o&&t.writeFloat(3,o),o=e.getEyeX(),0!==o&&t.writeFloat(4,o),o=e.getEyeY(),0!==o&&t.writeFloat(5,o),o=e.getMsg(),o.length>0&&t.writeString(6,o),o=e.getRealX(),0!==o&&t.writeFloat(7,o),o=e.getRealY(),0!==o&&t.writeFloat(8,o),o=e.getStatus(),0!==o&&t.writeEnum(9,o),o=e.getName(),o.length>0&&t.writeString(10,o),o=e.getGender(),0!==o&&t.writeEnum(11,o),o=e.getPosInfo(),null!=o&&t.writeMessage(12,o,proto.pb_rpsgame.pInfo.serializeBinaryToWriter)},proto.pb_rpsgame.BotStatusReq.status_type={WAITING:0,CONNECTING:1,CLOSE:2},proto.pb_rpsgame.BotStatusReq.gender_type={MAN:0,WOMAN:1},proto.pb_rpsgame.BotStatusReq.prototype.getBotId=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.pb_rpsgame.BotStatusReq.prototype.setBotId=function(e){return r.Message.setProto3StringField(this,1,e)},proto.pb_rpsgame.BotStatusReq.prototype.getX=function(){return r.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.pb_rpsgame.BotStatusReq.prototype.setX=function(e){return r.Message.setProto3FloatField(this,2,e)},proto.pb_rpsgame.BotStatusReq.prototype.getY=function(){return r.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.pb_rpsgame.BotStatusReq.prototype.setY=function(e){return r.Message.setProto3FloatField(this,3,e)},proto.pb_rpsgame.BotStatusReq.prototype.getEyeX=function(){return r.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.pb_rpsgame.BotStatusReq.prototype.setEyeX=function(e){return r.Message.setProto3FloatField(this,4,e)},proto.pb_rpsgame.BotStatusReq.prototype.getEyeY=function(){return r.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.pb_rpsgame.BotStatusReq.prototype.setEyeY=function(e){return r.Message.setProto3FloatField(this,5,e)},proto.pb_rpsgame.BotStatusReq.prototype.getMsg=function(){return r.Message.getFieldWithDefault(this,6,"")},proto.pb_rpsgame.BotStatusReq.prototype.setMsg=function(e){return r.Message.setProto3StringField(this,6,e)},proto.pb_rpsgame.BotStatusReq.prototype.getRealX=function(){return r.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.pb_rpsgame.BotStatusReq.prototype.setRealX=function(e){return r.Message.setProto3FloatField(this,7,e)},proto.pb_rpsgame.BotStatusReq.prototype.getRealY=function(){return r.Message.getFloatingPointFieldWithDefault(this,8,0)},proto.pb_rpsgame.BotStatusReq.prototype.setRealY=function(e){return r.Message.setProto3FloatField(this,8,e)},proto.pb_rpsgame.BotStatusReq.prototype.getStatus=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.pb_rpsgame.BotStatusReq.prototype.setStatus=function(e){return r.Message.setProto3EnumField(this,9,e)},proto.pb_rpsgame.BotStatusReq.prototype.getName=function(){return r.Message.getFieldWithDefault(this,10,"")},proto.pb_rpsgame.BotStatusReq.prototype.setName=function(e){return r.Message.setProto3StringField(this,10,e)},proto.pb_rpsgame.BotStatusReq.prototype.getGender=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.pb_rpsgame.BotStatusReq.prototype.setGender=function(e){return r.Message.setProto3EnumField(this,11,e)},proto.pb_rpsgame.BotStatusReq.prototype.getPosInfo=function(){return r.Message.getWrapperField(this,proto.pb_rpsgame.pInfo,12)},proto.pb_rpsgame.BotStatusReq.prototype.setPosInfo=function(e){return r.Message.setWrapperField(this,12,e)},proto.pb_rpsgame.BotStatusReq.prototype.clearPosInfo=function(){return this.setPosInfo(void 0)},proto.pb_rpsgame.BotStatusReq.prototype.hasPosInfo=function(){return null!=r.Message.getField(this,12)},proto.pb_rpsgame.BotStatusRes.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.pb_rpsgame.BotStatusRes.prototype.toObject=function(e){return proto.pb_rpsgame.BotStatusRes.toObject(e,this)},proto.pb_rpsgame.BotStatusRes.toObject=function(e,t){var o={botStatusList:r.Message.toObjectList(t.getBotStatusList(),proto.pb_rpsgame.BotStatusReq.toObject,e)};return e&&(o.$jspbMessageInstance=t),o}),proto.pb_rpsgame.BotStatusRes.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.pb_rpsgame.BotStatusRes;return proto.pb_rpsgame.BotStatusRes.deserializeBinaryFromReader(o,t)},proto.pb_rpsgame.BotStatusRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var o=t.getFieldNumber();switch(o){case 1:var r=new proto.pb_rpsgame.BotStatusReq;t.readMessage(r,proto.pb_rpsgame.BotStatusReq.deserializeBinaryFromReader),e.addBotStatus(r);break;default:t.skipField();break}}return e},proto.pb_rpsgame.BotStatusRes.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.pb_rpsgame.BotStatusRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb_rpsgame.BotStatusRes.serializeBinaryToWriter=function(e,t){var o=void 0;o=e.getBotStatusList(),o.length>0&&t.writeRepeatedMessage(1,o,proto.pb_rpsgame.BotStatusReq.serializeBinaryToWriter)},proto.pb_rpsgame.BotStatusRes.prototype.getBotStatusList=function(){return r.Message.getRepeatedWrapperField(this,proto.pb_rpsgame.BotStatusReq,1)},proto.pb_rpsgame.BotStatusRes.prototype.setBotStatusList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.pb_rpsgame.BotStatusRes.prototype.addBotStatus=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.pb_rpsgame.BotStatusReq,t)},proto.pb_rpsgame.BotStatusRes.prototype.clearBotStatusList=function(){return this.setBotStatusList([])},s.object.extend(t,proto.pb_rpsgame)},2642:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const s=r(o("0c6c")),n=o("89ce");class a{constructor(e){this.opts=e,this.websocket=void 0,this.packer=e.packer||new n.Packer(e.packer),this.waitgroup=new Map,this.buffer=new s.default(s.default.DEFAULT_CAPACITY,!1,s.default.DEFAULT_NOASSERT)}connect(){try{return this.disconnect(),this.websocket=new WebSocket(this.opts.url),this.websocket.binaryType="arraybuffer",this.websocket.onopen=e=>{this.heartbeat(),this.connectHandler&&this.connectHandler()},this.websocket.onclose=e=>{this.disconnectHandler&&this.disconnectHandler()},this.websocket.onerror=e=>{this.errorHandler&&this.errorHandler()},this.websocket.onmessage=e=>{if(0==e.data.byteLength)return;const t=this.packer.unpack(e.data);t.isHeartbeat?this.heartbeatHandler&&this.heartbeatHandler(t.millisecond):t.message&&(this.invoke(t.message)||this.receiveHandler&&this.receiveHandler(t.message))},!0}catch(e){return console.log(e),!1}}disconnect(){if(!this.websocket)return;this.intervalId&&clearInterval(this.intervalId),this.intervalId=null;const e=this.websocket;this.websocket=void 0;e.onclose;const t=()=>{};e.onopen=t,e.onmessage=t,e.onclose=t,e.onerror=t,e.close()}heartbeat(){if(!this.opts.heartbeat||this.opts.heartbeat<=0)return;const e=this.packer.packHeartbeat();this.intervalId=setInterval(()=>{this.isConnected()&&this.websocket&&this.websocket.send(e)},this.opts.heartbeat)}onConnect(e){this.connectHandler=e}onDisconnect(e){this.disconnectHandler=e}onReceive(e){this.receiveHandler=e}onError(e){this.errorHandler=e}onHeartbeat(e){this.heartbeatHandler=e}isConnected(){return void 0!==this.websocket&&this.websocket.readyState==WebSocket.OPEN}isConnecting(){return void 0!==this.websocket&&this.websocket.readyState===WebSocket.CONNECTING}send(e){if(this.isConnected()){const t=this.packer.packMessage(e);return this.websocket&&this.websocket.send(t),!0}return!1}request(e,t,o){return new Promise((r,s)=>{if(this.isConnected()){let n=this.waitgroup.get(e);void 0===n&&(n={seq:0,callback:new Map},this.waitgroup.set(e,n));let a,i=++n.seq;o&&o>0&&(a=setTimeout(()=>{s()},o)),n.callback.set(i,e=>{a&&clearTimeout(a),r(e)}),this.send({seq:i,route:e,data:t})}else s()})}invoke(e){if(0==e.seq)return!1;const t=this.waitgroup.get(e.route);if(void 0===t)return!1;const o=t.callback.get(e.seq||0);return t.callback.delete(e.seq||0),o&&o(e),!0}}t.Client=a},"26d5":function(e,t,o){o("c73d");var r=o("8513"),s=r,n=function(){return this||window||n||self||Function("return this")()}.call(null);s.exportSymbol("proto.pb_common.ROUTE",null,n),proto.pb_common.ROUTE={ROUTE_NONE:0,LOBBY_ECHO:1001,LOBBY_LOGIN:1002,MATCH_ECHO:2001,MATCH_JOIN:2002,RPSGAME_ECHO:3001,RPSGAME_START:3002,RPSGAME_PLAY:3003,RPSGAME_RESULT:3004},s.object.extend(t,proto.pb_common)},4678:function(e,t,o){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return o(t)}function n(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="4678"},"56d7":function(e,t,o){"use strict";o.r(t);var r=o("2b0e"),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("Donghua"),t("LoginChart")],1)},n=[],a=function(){var e=this,t=e._self._c;return t("canvas",{attrs:{id:"test"}})},i=[],p=(o("14d9"),o("8513"),o("6111"),o("89ce")),l=(o("26d5"),o("6ef2"),o("2447"),o("2642")),u=o("da35"),c=null,d=null,b=[],g=200,f={x:0,y:0,z:10},h=3,y={up:87,down:83,left:65,right:68,talk:32,send:13},m={x:0,y:0},_={x:{min:0,max:2e3},y:{min:0,max:2e3},z:{min:0,max:10}},R=2,v={up:!1,down:!1,left:!1,right:!1},w=[.5,0,0],S=!0,B=0,x=0,j={x:0,y:0},M={x:0,y:0},k=null,E=!1,F=null,I=null,q={x:0,y:0,e_x:0,e_y:0,r_x:0,r_y:0,bot_id:"",name:"",gender:0},O={},P=!1,z={x:0,y:0},C={},T={},W=document.createElement("div"),A={};FPSMeter.theme.dark.count.fontSize="12px";var D=new FPSMeter;function N(){d=document.getElementById("test"),d.width=window.innerWidth,d.height=window.innerHeight,c=d.getContext("2d"),c.shadowColor="white",c.shadowBlur=10,m={x:d.width/2,y:d.height/2},f.x=d.width/2,f.y=d.height/2,_.x.max=d.width,_.y.max=d.height,b=U(),q.bot_id=Math.random().toString(36).substr(2),H()}function L(){c.clearRect(0,0,d.width,d.height),c.fillStyle="rgb(20,7,34)",c.fillRect(0,0,d.width,d.height),G(),b=Y(b,w),V(c,b),de(),q.x=f.x,q.y=f.y,Se(),ae(),D.tick(),window.requestAnimationFrame(L)}function H(){setInterval((function(){S&&(w=[Math.random()-.5,Math.random()-.5,0])}),5e3)}function G(){B&&(w=[Math.random()-.5,Math.random()-.5,0],B=0)}function U(){for(var e=_.x.max-_.x.min,t=_.y.max-_.y.min,o=[],r=0;r<g;r++){var s=X(j.x+e,j.x),n=X(j.y+t,j.y),a=X(_.z.max,_.z.min),i=J(a),p=$(a);o.push({x:s,y:n,z:a,c:i,s:p})}return o.sort((function(e,t){return e.z-t.z})),o}function Y(e,t=[0,0,0]){for(var o in e){var r=e[o];r.x+=t[0],r.y+=t[1],r.z+=t[2],r.x>d.width?r.x-=d.width:r.x<0&&(r.x+=d.width),r.y>d.height?r.y-=d.height:r.y<0&&(r.y+=d.height),e[o]=r}return e}function X(e,t=0){return Math.floor(Math.random()*(e-t))+t}function J(e){var t=Math.floor(155*e/(_.z.max-_.z.min))+100;return"rgb("+t+","+t+","+t+")"}function $(e){return e*h/f.z}function V(e,t=[]){for(var o in t){var r=K(t[o].x,t[o].y,t[o].z,t[o].c,t[o].s);(r.x<d.width||r.y<d.height)&&Q(e,r.x,r.y,r.c,r.s)}}function K(e,t,o,r,s){var n={x:(e-f.x)*f.z/(f.z-o)+f.x,y:(t-f.y)*f.z/(f.z-o)+f.y,c:r,s:s};return n}function Q(e,t,o,r,s){e.beginPath(),e.arc(t,o,s,0,2*Math.PI),e.fillStyle=r,e.fill()}function Z(e=d.width/2,t=d.height/2){c.beginPath(),e+=5,t+=5,c.arc(e,t,8,0,2*Math.PI),q.gender===proto.pb_rpsgame.BotStatusReq.gender_type.WOMAN?c.fillStyle="rgb(255,20,147)":c.fillStyle="rgb(0,191,255)",c.fill(),c.beginPath();var o=te(e,t,8);q.e_x=o[0],q.e_y=o[1],c.arc(o[0],o[1],4,0,2*Math.PI),c.fillStyle="rgb(255,255,255)",c.fill(),c.font="14px Arial",q.gender===proto.pb_rpsgame.BotStatusReq.gender_type.WOMAN?c.fillStyle="rgb(255,20,147)":c.fillStyle="rgb(0,191,255)",c.fillText(q.name,e-8,t+20)}function ee(e=d.width/2,t=d.height/2,o,r,s,n,a){c.beginPath(),e+=5,t+=5,c.arc(e,t,8,0,2*Math.PI),n===proto.pb_rpsgame.BotStatusReq.gender_type.WOMAN?c.fillStyle="rgb(255,20,147)":c.fillStyle="rgb(0,191,255)",c.fill(),c.beginPath(),c.arc(o,r,4,0,2*Math.PI),c.fillStyle="rgb(255,255,255)",c.fill(),c.font="14px Arial",n===proto.pb_rpsgame.BotStatusReq.gender_type.WOMAN?c.fillStyle="rgb(255,20,147)":c.fillStyle="rgb(0,191,255)",c.fillText(s,e-8,t+20),c.fillText(a,e-8,t+40)}function te(e,t,o){var r=5,s=(e-M.x)*(o-r)/Math.sqrt(Math.pow(e-M.x,2)+Math.pow(t-M.y,2)),n=(t-M.y)*(o-r)/Math.sqrt(Math.pow(e-M.x,2)+Math.pow(t-M.y,2));v.up?(s=0,n=o-r):v.down&&(s=0,n=-(o-r)),v.left?(s=o-r,n=0):v.right&&(s=-(o-r),n=0);var a=Math.sqrt(Math.pow(o-r,2)/2);return v.up&&v.left?(s=a,n=a):v.up&&v.right?(s=-a,n=a):v.down&&v.left?(s=a,n=-a):v.down&&v.right&&(s=-a,n=-a),[e-s,t-n]}function oe(){window.addEventListener("keydown",e=>{if(E&&e.keyCode!=y.send)return!1;switch(e.keyCode){case y.up:v.up=!0,v.down=!1;break;case y.down:v.up=!1,v.down=!0;break;case y.right:v.right=!0,v.left=!1;break;case y.left:v.left=!0,v.right=!1;break;case y.talk:re();break;case y.send:se();break}}),window.addEventListener("keyup",e=>{switch(e.keyCode){case y.up:v.up=!1;break;case y.down:v.down=!1;break;case y.right:v.right=!1;break;case y.left:v.left=!1;break}e.keyCode!=y.up&&e.keyCode!=y.down&&e.keyCode!=y.left&&e.keyCode!=y.right||(S=!0,B=1)}),window.addEventListener("mousemove",e=>{M={x:e.x,y:e.y}}),document.body.addEventListener("touchmove",e=>{e.preventDefault()})}function re(){if(null!=k)return!1;E=!0,k=document.createElement("input"),k.setAttribute("style","position:fixed;left:"+f.x+"px;top:"+(f.y+30)+"px;background-color:rgba(200,200,200,0.2);border:1px solid rgba(200,200,200,0.2);border-radius:10px;padding:5px;outline:none;width:150px;color:white;font-size:12px"),k.setAttribute("maxlength",50),document.body.appendChild(k),k.addEventListener("focus",()=>{}),k.addEventListener("blur",()=>{document.body.removeChild(k),k=null,E=!1}),k.focus()}function se(){if(!k||!k.value)return!1;var e=k.value;k.blur(),Se(e)}function ne(e){var t=document.createElement("p");t.innerHTML="<span style='padding:0 5px;margin:5px 0;display:inline-block;background-color:rgba(200,200,200,0.2);border:1px solid rgba(200,200,200,0.2);border-radius:10px;'>"+e+"</span>",F.appendChild(t),setTimeout(()=>{F.removeChild(t)},8e3)}function ae(){for(var e in C)e===q.bot_id?(null==F&&(F=document.createElement("div"),F.setAttribute("style","position:fixed;left:"+f.x+"px;bottom:"+(d.height-f.y+20)+"px;color:white;font-size:12px"),document.body.appendChild(F)),C[e].msg&&(ne(C[e].msg),C[e].msg="")):e!==q.bot_id&&ie(C[e].r_x+C[e].x-z.x,C[e].r_y+C[e].y-z.y)&&(ee(C[e].r_x+C[e].x-z.x,C[e].r_y+C[e].y-z.y,C[e].r_x+C[e].e_x-z.x,C[e].r_y+C[e].e_y-z.y,C[e].name,C[e].gender,""),pe(e),C[e].msg&&(le(e,C[e].msg),C[e].msg=""),ue(e))}function ie(e,t){return!(e<0)&&(!(t<0)&&(!(e>d.width)&&!(t>d.height)))}function pe(e){T[e]||(T[e]=document.createElement("div"),T[e].setAttribute("style","position:fixed;left:"+(C[e].x+C[e].r_x-z.x)+"px;bottom:"+(d.height-(C[e].y+C[e].r_y-z.y)+20)+"px;color:white;font-size:12px"),document.body.appendChild(T[e]))}function le(e,t){C[e];let o=T[e];var r=document.createElement("p");r.innerHTML="<span style='padding:0 5px;margin:5px 0;display:inline-block;background-color:rgba(200,200,200,0.2);border:1px solid rgba(200,200,200,0.2);border-radius:10px;'>"+t+"</span>",o.appendChild(r),setTimeout(()=>{o.removeChild(r)},15e3)}function ue(e){let t=C[e],o=T[e];o.setAttribute("style","position:fixed;left:"+(t.x+t.r_x-z.x)+"px;bottom:"+(d.height-(t.y+t.r_y-z.y)+20)+"px;color:white;font-size:12px")}function ce(){null!=F&&F.setAttribute("style","position:fixed;left:"+f.x+"px;bottom:"+(d.height-f.y+20)+"px;color:white;font-size:12px")}function de(){var e=m.y,t=m.x,o=0,r=0;if(v.up?(e=m.y-R,r=-R):v.down&&(e=m.y+R,r=R),v.left?(t=m.x-R,o=-R):v.right&&(t=m.x+R,o=R),o||r){be("far");var s=100;ge(t,e,d.width/2,d.height/2)>=s?(S=!1,B=0,w=[-o,-r,0],z.x+=o,z.y+=r,q.r_x=z.x,q.r_y=z.y):(m.y=e,m.x=t)}else be("near");f.x=m.x,f.y=m.y,ce(),Z(m.x,m.y)}function be(e="far"){var t=.1,o=5,r=1;"far"==e?x<Math.PI&&(x+=t,f.z=f.z+r*Math.sin(x)/o):"near"==e&&x>0&&(x-=t,f.z=f.z-r*Math.sin(x)/o)}function ge(e,t,o,r){return Math.sqrt(Math.pow(e-o,2)+Math.pow(t-r,2))}function fe(){A[proto.pb_common.ROUTE.LOBBY_ECHO]={msg:proto.pb_lobby.EchoRes,handler:ye},A[proto.pb_common.ROUTE.RPSGAME_START]={msg:proto.pb_rpsgame.BotStatusReq,handler:me},A[proto.pb_common.ROUTE.RPSGAME_PLAY]={msg:proto.pb_lobby.EchoReq,handler:_e},A[proto.pb_common.ROUTE.RPSGAME_RESULT]={msg:proto.pb_lobby.EchoReq,handler:Re}}function he(e){if("undefined"==e)return void console.error("onMessage data is undefined");if(null==A[e.route])return void console.error("onMessage route is not exist",e.route);let t=e.route,o=e.data.slice(e.data.offset,e.data.limit).toBuffer();A[t].handler(o)}function ye(e){console.info("lobby_echo_handler",e)}function me(e){console.info("rpsgame_start_handler",e);let t=proto.pb_rpsgame.BotStatusRes.deserializeBinary(e);var o=t.getBotStatusList();for(var r in o)o[r].getStatus()!==proto.pb_rpsgame.BotStatusReq.status_type.CLOSE?(C[o[r].getBotId()]={x:o[r].getX(),y:o[r].getY(),e_x:o[r].getEyeX(),e_y:o[r].getEyeY(),r_x:o[r].getRealX(),r_y:o[r].getRealY(),msg:o[r].getMsg(),name:o[r].getName(),gender:o[r].getGender(),pos_info:o[r].getPosInfo()},Ee(C[o[r].getBotId()])):delete C[o[r].getBotId()]}function _e(e){console.info("rpsgame_play_handler",e)}function Re(e){console.info("rpsgame_result_handler",e)}function ve(){console.info("createWebSocket");let e=new p["Packer"]({encoding:new u["ProtoEncoder"]});I=new l["Client"]({url:"ws://127.0.0.1:3553/ws",packer:e}),console.info("createWebSocket",I),I.onConnect(()=>{console.log("onConnect");let e=new proto.pb_lobby.EchoReq;e.setMsg("hello"),I.send({route:proto.pb_common.ROUTE.LOBBY_ECHO,data:e}),console.log("send"),P=!0}),I.onDisconnect(()=>{console.log("onDisconnect")}),I.onReceive(e=>{console.log("onReceive",e),he(e)}),I.connect()}var we=!0;function Se(e=""){if(!P)return!1;var t=!1;if(O)for(var o in q)q[o]!==O[o]&&(t=!0);else t=!0;if(""===e){if(!we)return;we=!1,setTimeout((function(){we=!0}),30)}if(t||e){let t=new proto.pb_rpsgame.BotStatusReq;t.setBotId(q.bot_id),t.setX(f.x),t.setY(f.y),t.setEyeX(q.e_x),t.setEyeY(q.e_y),t.setRealX(z.x),t.setRealY(z.y),t.setMsg(e),t.setName(q.name),t.setGender(q.gender),I.send({route:proto.pb_common.ROUTE.RPSGAME_START,data:t}),Object.assign(O,q)}}function Be(){var e=localStorage.getItem("star_name");q.name=null!==e&&""!==e?e:"Guest"+Math.random().toString(36).substr(2);var t=localStorage.getItem("star_gender");q.gender=null!==t?parseInt(t):proto.pb_rpsgame.BotStatusReq.gender_type.MAN}function xe(){var e=document.createElement("div");e.setAttribute("style","position:fixed;text-align:center;left:5px;top:50px;width:30px;height:200px;background-color:rgba(0,0,0,0.5);border:1px solid rgba(0,0,0,0.5);border-radius:5px;"),document.body.appendChild(e);let t=je(e,"image/human.png","点我修改昵称");var o=null;t.addEventListener("click",e=>{if(o)return!1;o=document.createElement("input"),o.setAttribute("style","position:fixed;left:50px;top:50px;background-color:white;border:1px solid white;border-radius:5px;padding:5px;outline:none;width:150px;font-size:12px"),o.setAttribute("placeholder","请输入昵称，长度10"),o.setAttribute("maxlength",10),document.body.appendChild(o),o.focus(),o.addEventListener("blur",()=>{""!==o.value&&(q.name=o.value,localStorage.setItem("star_name",q.name)),document.body.removeChild(o),o=null})});let r=je(e,"image/m.png","男生");r.addEventListener("click",e=>{q.gender=proto.pb_rpsgame.BotStatusReq.gender_type.MAN,localStorage.setItem("star_gender",q.gender)});let s=je(e,"image/w.png","女生");s.addEventListener("click",e=>{q.gender=proto.pb_rpsgame.BotStatusReq.gender_type.WOMAN,localStorage.setItem("star_gender",q.gender)})}function je(e,t,o=""){var r=document.createElement("img");return r.setAttribute("style","width:25px;height:25px;border:1px solid rgba(200,200,0,0.5);color:white;cursor:default;border-radius:5px;"),r.setAttribute("src",t),r.setAttribute("title",o),e.appendChild(r),r}function Me(){W.setAttribute("style","position:fixed;right:5px;bottom:200px;width:400px;height:70%;color:rgba(200,200,200,0.8);border:1px solid rgba(200,200,200,0.8);cursor:default;overflow-y:auto;border-radius:5px;"),document.body.appendChild(W)}function ke(e,t){if(""!==t.trim()){var o=document.createElement("div");o.setAttribute("style","margin:2px;"),o.innerHTML="<div><span style='color: darkred'>"+e+"：</span>"+t,W.appendChild(o),W.scrollTop=W.scrollHeight}}function Ee(e){if(""!==e.msg.trim()){var t=document.createElement("div");t.setAttribute("style","margin:2px;"),t.innerHTML="<div><span style='color: lightseagreen'>["+e.pos_info.getCity()+e.pos_info.getIsp()+"]</span><span style='color: darkgreen'>@"+e.name+"：</span>"+e.msg,W.appendChild(t),W.scrollTop=W.scrollHeight}}function Fe(){var e=["1欢迎来到这个秘密的地方，茫茫人海，如果能在这里相遇，说明是一种缘分~","互动方式如下：","1. W A S D进行上下左右","2. 空格开启聊天框，回车发送消息","3. 左上角修改昵称、性别，点击空白修改成功","4. 新增用户上线频率全天分布图","git 地址：<a href='https://github.com/sunshinev/go-space-chat' target='_blank'>https://github.com/sunshinev/go-space-chat</a>","前端 Vue+canvas+websocket+protobuf，后端 Golang+websocket+protobuf+goroutine"];for(var t in e)ke("管理员",e[t])}var Ie=function(){console.info("Space.js"),Me(),Fe(),N(),oe(),xe(),Be(),fe(),ve(),window.requestAnimationFrame(L)},qe={data(){return{}},methods:{},mounted(){Ie()}},Oe=qe,Pe=o("2877"),ze=Object(Pe["a"])(Oe,a,i,!1,null,null,null),Ce=ze.exports,Te=function(){var e=this;e._self._c;return e._m(0)},We=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"256px",position:"absolute",bottom:"0","z-index":"10"},attrs:{height:"200"}},[t("canvas",{attrs:{id:"myChart"}})])}],Ae=o("30ef"),De=o.n(Ae),Ne=o("bc3a"),Le=o.n(Ne),He={data(){return{xlist:[],ylist:[]}},methods:{getChartData:function(){var e=this;Le.a.get("/login_charts").then((function(t){e.xlist=t.data.x,e.ylist=t.data.y,e.renderCharts()}))},renderCharts:function(){var e=document.getElementById("myChart"),t={maintainAspectRatio:!1,spanGaps:!1,elements:{line:{tension:.4}},plugins:{filler:{propagate:!1}},scales:{xAxes:[{ticks:{autoSkip:!0,maxRotation:0,display:!0}}]}};new De.a(e,{type:"line",data:{labels:this.xlist,datasets:[{backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 0.5)",data:this.ylist,label:"",fill:"start"}]},options:De.a.helpers.merge(t,{title:{text:"用户上线全天时间分布图",display:!0,position:"bottom"}})})}},beforeMount(){},mounted(){}},Ge=He,Ue=Object(Pe["a"])(Ge,Te,We,!1,null,null,null),Ye=Ue.exports,Xe={name:"App",components:{Donghua:Ce,LoginChart:Ye}},Je=Xe,$e=(o("5739"),Object(Pe["a"])(Je,s,n,!1,null,null,null)),Ve=$e.exports;new r["a"]({render:e=>e(Ve)}).$mount("#app")},5739:function(e,t,o){"use strict";o("ccaf")},"6ef2":function(e,t,o){o("c73d");var r=o("8513"),s=r,n=function(){return this||window||n||self||Function("return this")()}.call(null);s.exportSymbol("proto.pb_lobby.EchoReq",null,n),s.exportSymbol("proto.pb_lobby.EchoRes",null,n),proto.pb_lobby.EchoReq=function(e){r.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.pb_lobby.EchoReq,r.Message),s.DEBUG&&!COMPILED&&(proto.pb_lobby.EchoReq.displayName="proto.pb_lobby.EchoReq"),proto.pb_lobby.EchoRes=function(e){r.Message.initialize(this,e,0,-1,null,null)},s.inherits(proto.pb_lobby.EchoRes,r.Message),s.DEBUG&&!COMPILED&&(proto.pb_lobby.EchoRes.displayName="proto.pb_lobby.EchoRes"),r.Message.GENERATE_TO_OBJECT&&(proto.pb_lobby.EchoReq.prototype.toObject=function(e){return proto.pb_lobby.EchoReq.toObject(e,this)},proto.pb_lobby.EchoReq.toObject=function(e,t){var o={msg:r.Message.getFieldWithDefault(t,1,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.pb_lobby.EchoReq.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.pb_lobby.EchoReq;return proto.pb_lobby.EchoReq.deserializeBinaryFromReader(o,t)},proto.pb_lobby.EchoReq.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var o=t.getFieldNumber();switch(o){case 1:var r=t.readString();e.setMsg(r);break;default:t.skipField();break}}return e},proto.pb_lobby.EchoReq.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.pb_lobby.EchoReq.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb_lobby.EchoReq.serializeBinaryToWriter=function(e,t){var o=void 0;o=e.getMsg(),o.length>0&&t.writeString(1,o)},proto.pb_lobby.EchoReq.prototype.getMsg=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.pb_lobby.EchoReq.prototype.setMsg=function(e){return r.Message.setProto3StringField(this,1,e)},r.Message.GENERATE_TO_OBJECT&&(proto.pb_lobby.EchoRes.prototype.toObject=function(e){return proto.pb_lobby.EchoRes.toObject(e,this)},proto.pb_lobby.EchoRes.toObject=function(e,t){var o={uid:r.Message.getFieldWithDefault(t,1,0),msg:r.Message.getFieldWithDefault(t,2,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.pb_lobby.EchoRes.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.pb_lobby.EchoRes;return proto.pb_lobby.EchoRes.deserializeBinaryFromReader(o,t)},proto.pb_lobby.EchoRes.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var o=t.getFieldNumber();switch(o){case 1:var r=t.readInt64();e.setUid(r);break;case 2:r=t.readString();e.setMsg(r);break;default:t.skipField();break}}return e},proto.pb_lobby.EchoRes.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.pb_lobby.EchoRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb_lobby.EchoRes.serializeBinaryToWriter=function(e,t){var o=void 0;o=e.getUid(),0!==o&&t.writeInt64(1,o),o=e.getMsg(),o.length>0&&t.writeString(2,o)},proto.pb_lobby.EchoRes.prototype.getUid=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.pb_lobby.EchoRes.prototype.setUid=function(e){return r.Message.setProto3IntField(this,1,e)},proto.pb_lobby.EchoRes.prototype.getMsg=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.pb_lobby.EchoRes.prototype.setMsg=function(e){return r.Message.setProto3StringField(this,2,e)},s.object.extend(t,proto.pb_lobby)},"89ce":function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Packer=void 0;const s=r(o("0c6c")),n=o("d13c"),a="big",i=a,p=4,l=1,u=2,c=2;class d{constructor(e){this.opts=e||{byteOrder:i,routeBytes:u,seqBytes:c,encoding:new n.Json},this.opts.byteOrder=void 0!==this.opts.byteOrder?this.opts.byteOrder:i,this.opts.routeBytes=void 0!==this.opts.routeBytes?this.opts.routeBytes:u,this.opts.seqBytes=void 0!==this.opts.seqBytes?this.opts.seqBytes:c,this.opts.encoding=void 0!==this.opts.encoding?this.opts.encoding:new n.Json,this.buffer=new s.default(s.default.DEFAULT_CAPACITY,this.opts.byteOrder!=a,s.default.DEFAULT_NOASSERT)}packHeartbeat(){let e=this.buffer.clone(),t=128;return e.writeInt32(l),e.writeInt8(t),e.flip().toArrayBuffer()}packMessage(e){var t;let o=this.buffer.clone(),r=0,s=e.seq||0,n=e.route||0;switch(o.skip(p),o.writeInt8(r),this.opts.routeBytes){case 1:o.writeInt8(n);break;case 2:o.writeInt16(n);break;case 4:o.writeInt32(n);break}switch(this.opts.seqBytes){case 1:o.writeInt8(s);break;case 2:o.writeInt16(s);break;case 4:o.writeInt32(s);break}return e.data&&o.append(null===(t=this.opts.encoding)||void 0===t?void 0:t.encode(e.data)),o.writeInt32(o.offset-p,0),o.flip().toArrayBuffer()}unpack(e){var t;const o=this.buffer.clone().append(e,"binary").flip().skip(p),r=o.readUint8(),s=r>>7==1;if(s){let e;return o.remaining()>0&&(e=Number(o.readInt64().toString())),{isHeartbeat:s,millisecond:e}}{const e={seq:0,route:0,data:void 0};if(this.opts.routeBytes){if(this.opts.routeBytes>o.remaining())return{isHeartbeat:s};switch(this.opts.routeBytes){case 1:e.route=o.readInt8();break;case 2:e.route=o.readInt16();break;case 4:e.route=o.readInt32();break}}if(this.opts.seqBytes){if(this.opts.seqBytes>o.remaining())return{isHeartbeat:s};switch(this.opts.seqBytes){case 1:e.seq=o.readInt8();break;case 2:e.seq=o.readInt16();break;case 4:e.seq=o.readInt32();break}}return o.remaining()>0&&(e.data=null===(t=this.opts.encoding)||void 0===t?void 0:t.decode(o.readBytes(o.remaining()))),{isHeartbeat:s,message:e}}}}t.Packer=d},ccaf:function(e,t,o){},d13c:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Json=void 0;class r{encode(e){return JSON.stringify(e)}decode(e){return console.log(e),JSON.parse(e.toUTF8())}}t.Json=r},da35:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtoEncoder=void 0;class r{encode(e){return e.serializeBinary()}decode(e){return e}}t.ProtoEncoder=r}});
//# sourceMappingURL=app.08bcd402.js.map